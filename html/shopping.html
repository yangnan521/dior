<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="Expires" content="0">
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Cache-control" content="no-cache">
	<meta http-equiv="Cache" content="no-cache">
	<title>shopping</title>
	<link rel="stylesheet" type="text/css" href="../css/public.css"/>
	<link rel="stylesheet" type="text/css" href="../css/iconfont.css">
	<link rel="stylesheet" type="text/css" href="../css/shopping.css">
</head>
<body>
<!-- header -->
<header>
	<div class="header-one">
		<a href="index.html"><i class="iconfont icon-home"></i></a>
		<a href="women.html">女士</a>
		<a href="#">男士</a>
		<a href="perfume.html">香氛</a>
		<a href="#">彩妆</a>
		<a href="pdetails.html">护肤</a>
		<a href="#">珠宝</a>
		<a href="#">腕表</a>
		<a href="#">BABY DIOR</a>
	</div>
	<div class="header-two">
		<a href="#">DIORMAG</a>
		<a href="#">DIOR品牌</a>
		<a href="#">DIORTV</a>
	</div>
</header>
<!-- banner -->
	<div class="banner">
	<img src="../img/dior.png"/>
	<div class="seachall">
	<div class="seach"><input type="text" placeholder="搜索"/>
		<a href="#"><i class="iconfont icon-search"></i></a></div>
		<a href="#"><i class="iconfont icon-tubiao114"></i></a>
		<a href="login.html"><i class="iconfont icon-jyonghu3"></i></a>
		<a href="#"><i class="iconfont icon-bagregular"></i></a>
	</div>
	</div>
<!-- nav -->
	<nav>
		<a href="#" class="nav-f">新品</a>
		<a href="#">包具</a>
		<a href="#">鞋履</a>
		<a href="#">成衣</a>
		<a href="#">首饰</a>
		<a href="#">太阳眼镜</a>
		<a href="#">配饰</a>
		<a href="#">高级定制</a>
	</nav>
<section>
	<div class="shop">
		<div class="goostop">
			<span>1.购物袋&nbsp;&nbsp;<b> < </b> </span> 
			<span>2.提交订单&nbsp;&nbsp;<b> < </b> </span><span>3.支付</span>
		</div>
		
		<h2>全部商品</h2>
		<div class="goodshead">
		<input id="checkedAllId" type="checkbox"/>全选
		<i class="goods">商品 </i> 
		   <i class="goodsprice">单价 </i>
		     <i class="goodsnum">数量 </i>
		      <i class="goodsmoney">小计 </i>
		<input id="btnUnCheckId" type="button" value="反选">
		</div>
		<ul id="list">
		    <li id="lis"><i><input class="input1" type="checkbox"/></i>
		    	<img src="../img/x1.jpg"><b class="b1">提拉紧塑精华</b> 
			        <b class="b2" id='danjia'>790.00</b>
			        <span><input class="btn"  type="button" id='mul' value="-">
			        <input id="acount" type="text" value="1">
			        <input class="btn" type="button" value="+" id='add'></span>
			        <strong class="b4" id='subtotal'>790.00</strong>
			        <b class="b3"><i id="delete">删除</i></b>
		    </li>
		    <li id="lis1"><i><input class="input1" type="checkbox"/></i>
		    	<img src="../img/x2.jpg"><b class="b1">提拉紧塑精华</b> 
			          <b class="b2" id='danjia1'>790.00</b>
			        <span><input class="btn"  type="button" id='mul1' value="-">
			        <input id="acount1" type="text" value="1">
			        <input class="btn"  type="button" value="+" id='add1'></span>
			        <strong class="b4" id='subtotal1'>790.00</strong>
			        <b class="b3"><i id="delete1">删除</i></b>
		    </li>
		    <li>结算：<em id="totalMoney">0</em></li>
		   
		</ul>
</div>

</section>
<!-- footer -->
<footer>
	<div class="foot">
		<div class="f-left">
			<p class="LinkA">客服服务</p>
			<a href="#" class="LinkB">联系我们</a>
			<p class="LinkC">地区/国家</p>
			<div class="country">
			<i class="iconfont icon-suo2"></i>
			<input type="text" value="中国(CNY￥)"/>
			<span> &lt; </span>
			</div>
			<div class="nav">
			<p><a href="#">
			<img src="../img/icon.png"/> 沪公网安备 31010602002343号</a></p>
			<p><a href="#">
			<img src="../img/icon1.png"/>沪ICP备10014525号</a></p>
			<p>路威酩轩香水化妆品（上海）有限公司</p>
			<p>上海市南京西路1266号恒隆广场1期29F</p>
			</div>
		</div>
		<div class="f-middle">
			<a href="#">精品店</a>
			<a href="#">工作机会</a>
			<a href="#">使用条款</a>
			<a href="#">数据保护章程</a>
		</div>
		<div class="f-right">
			<p class="ser">电子通信</p>
			<p>率先获取最新作品的信息及Dior迪奥各领域的独家消息:</p>
			<div class="emil">
				<i class="iconfont icon-youxiang1"></i>
				<input  id="tit" type="text" placeholder="请输入您的邮箱" />
			
			</div>
			<input type="button" id="btn" value="确定"/>

			<span>关注我们</span>
			<b><a href="#"><i class="iconfont icon-sina"></i></a></b>
		</div>
	</div>
</footer>
</body>
</html>
<script type="text/javascript" src="../js/jquery-1.8.3.min.js"></script>
<script type="text/javascript">
//jQuery插件

jQuery.fn.extend({
    "checkAll":function (isChecked) {
        //this是jQuery对象
        this.each(function () {
            this.checked = isChecked;
        })
    },

    "uncheck":function () {
        //this是jQuery对象
        this.each(function () {
            this.checked = !this.checked;
        })
    },
    //全选的复选框和子复选框的关联
    "checkRelation":function ($sub) {
        $parent = this;
        //全选的功能（父控制子）
        this.click(function () {
            $sub.checkAll($parent[0].checked);
            //$("#list :checkbox").checkAll(this.checked);
        });
        //联动（子控制父：子复选框有改变，那么父复选框也要有对应的改变）
        $sub.click(function () {
            //1、遍历所有的子复选框
            let isChecked = true;
            $sub.each(function () {
                if(this.checked==false){
                    isChecked = false;
                }
            })
            //2、改变父复选框的状态
            $parent[0].checked = isChecked;
        });
    }
});


//主函数
$(function(){
    //这个函数的作用是把一个复选框和很多复选框关联起来了。
    $("#checkedAllId").checkRelation($("#list :checkbox"));

    $("#btnUnCheckId").click(function () {
        $("#list :checkbox").uncheck();
    });

$("#delete").click(function(){
	//this.parentNode.parentNode.removeChild();
	$("#lis").css({"display":"none"})
});
$("#delete1").click(function(){
	$("#lis1").css({"display":"none"})
});


var aCount = document.getElementById('acount').value;
var zongjia=0;


        $('#add').click(function(){
		aCount++;
		
		if (aCount <= 1){
			aCount=1;
		}
		document.getElementById('acount').value = aCount;
		// 
		setTotal();  
	})
	
	$('#mul').click(function(){
		aCount--;
		if (aCount <= 1){
			aCount=1;
		}
		document.getElementById('acount').value = aCount;

		setTotal();  
	});
	

	$('#subtotal')
	function setTotal(){
		var s = 0;
		$('#list').each(function(){
			var d = $(this).find('#danjia').text();//单价
			var n = $(this).find('#acount').val();//数量
			if(parseInt(d)=='' || undefined || null || isNaN(d) || isNaN(parseInt(n))){
				d = 0;
			}
			s += parseInt(d) * parseFloat(n);
		});
		$('#list1').each(function(){
			var d = $(this).find('#danjia').text();//单价
			var n = $(this).find('#acount').val();//数量
			if(parseInt(d)=='' || undefined || null || isNaN(d) || isNaN(parseInt(n))){
				d = 0;
			}
			s += parseInt(d) * parseFloat(n);
		});
		$('#subtotal').html(s.toFixed(2));

	}




});

	var aCount1 = document.getElementById('acount1').value;

        $('#add1').click(function(){
		aCount1++;
		
		if (aCount1 <= 1){
			aCount1=1;
		}
		document.getElementById('acount1').value = aCount1;
		setTotal();  
	})
	
	$('#mul1').click(function(){
		aCount1--;
		if (aCount1 <= 1){
			aCount1=1;
		}
		document.getElementById('acount1').value = aCount1;
		setTotal();  
	});
$('#subtotal1')
	function setTotal(){
		var s = 0;
		$('#list').each(function(){
			var d = $(this).find('#danjia1').text();//单价
			var n = $(this).find('#acount1').val();//数量
			if(parseInt(d)=='' || undefined || null || isNaN(d) || isNaN(parseInt(n))){
				d = 0;
			}
			s += parseInt(d) * parseFloat(n);
		});

		$('#list1').each(function(){
			var d = $(this).find('#danjia1').text();//单价
			var n = $(this).find('#acount1').val();//数量
			if(parseInt(d)=='' || undefined || null || isNaN(d) || isNaN(parseInt(n))){
				d = 0;
			}
			s += parseInt(d) * parseFloat(n);
		});
		$('#subtotal1').html(s.toFixed(2));

	} 

	$('.btn').click(function(){
		 $('#checkedAllId').checked=true;
		 zongjia=parseInt($('#subtotal').html())+parseInt($('#subtotal1').html());
		 $('#totalMoney').html(zongjia);
	
	});
</script>